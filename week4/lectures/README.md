# Week4 Lectures 笔记

## 实现继承（Implementation Inheritence）

实现继承是接口继承以外另一种继承的方式，一般是一个类继承另一个类。实现继承使用关键词 `extends`，`extends` 使子类获得父类的所有成员，包括：
  1. 实例变量、静态变量；
  2. 方法；
  3. 内嵌的类；

- 子类不继承：父类的构造函数，也不继承 `private` 标识的变量。
- 子类构造函数与父类构造函数的交互：子类构造函数内必须首先调用父类的构造函数（通过 `super()` 调用），如果开发者没写，Java 会默认加上。如果父类的构造函数有重载方法，那么 `super()`, `super(x)` 是两个不同的调用，子类调用父类构造函数时要注意区分。
- Java 中的所有类都隐式地 `extends` Object 类。（JavaScript 中的所有对象的原型追溯到顶端也是 Object 的 prototype 对象）

及：interface 不继承 Object 类
再及：`extends` 表示的也是一种 `is-a` 关系，不能用来表示 `has-a` 关系

## 封装

编程序的主要工作是对付复杂度。如何管理复杂度？
  1. 一层层地抽象，创建不同级别的抽象层，互相之间有清晰的屏障；
  2. Design for change(D Parnas) ，在写代码时就为变化留有余地：
    - 围绕对象组织程序；
    - Let objects deside how things are done;
    - Hide information others don't nedd. 隐藏信息

## 编译时类型与类型转换 compiler-time type and casting

Java 中的一个变量有两个类型：编译时类型和运行时类型。编译时类型在声明该变量时确定，运行时类型在给这个变量执行赋值语句时确定。运行时类型影响实例调用方法时，具体调用哪个方法，比如，会优先调用子类覆盖实现的方法。

编译器在编译时会给赋值语句和函数调用操作做类型检验，检验的编译时类型：
  - 赋值语句：检验等号右边表达式的类型是否是左边的类型；
  - 函数调用：检查方法调用的返回类型是否是声明方法时的返回类型。

类型转换就是告诉 Java 将一个表达式的编译时类型当做另一个类型对待，从而通过类型检测，对执行没有影响，该出错还是会出错。

## 高阶函数

高阶函数是一个把其他函数当做数据进行操作的函数。

Java 7 及以前没有直接指向函数的指针，使用高阶函数需要借助 interface + 类继承：
  1. 声明：声明一个 interface IA，包含函数的签名；
  2. 实现：用类 A 实现该接口定义的方法；
  3. 使用：在类 B 中实例化该类，在 B 的方法中接收 IA 类型的对象 a 为参数，在 B 方法内部通过 a 对象使用它的方法